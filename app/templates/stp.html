<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/styles/template.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Scriptos - Netzwe</title>
</head>
<body>
    <h1>STP - Spanning Tree Protocol</h1>
    <div id="templateline"></div>
    <h5 for="" id="znalosti"><b>Předpokládané znalosti</b>: základy VLAN, základní konfigurace v PT</h5>
    <section id="uvod">
        <h3 id="problematika">Úvod do problematiky</h3>
        <div id="templateline2"></div>
        <div class="height_spacer"></div>
        <section id="broadcastStorm" class="subSection">
            <h4>Broadcast Storm</h4>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
            <p>Předtím než si vysvětlíme STP a jeho funkci, je třeba si vysvětlit pojem "Broadcast storm".</p>
            <p>Broadcast storm je stav, kdy je za krátkou dobu v síti přítomno neuvěřitelně moc broadcast paketů.</p>
            <p>Nejlepé si vznik této situace vysvětlíme na ilustraci.</p>
            <img src="../static/styles/images/STP/Broadcast_storm.png" alt="BroadcastStorm" class="configImage">
            <p>Při tvorbě sítě bychom měli respektovat určitá nepsaná pravidla, jedno z nich je, aby síť byla <a href="https://www.sprava-site.eu/redundance/">redundatní</a>.</p>
            <p>Lze jasně vidět, že síť v obrázku toto nepsané pravidlo splňuje, jinými slovy, pokud selže Fa0/2 (SW1), rámec od PC1 k PC0 se dostane i tak.</p>
            <p>V této síti a každé jiné, která respektuje toto pravidlo, nastává ale velký problém, který souvisí se zpracováním broadcastu na switchi</p>
            <p><i>Co se stane pokud PC1 pošle do sítě broadcast?</i></p>
            <p>1) SW1 jej pošle na všechny ostatní média kromě tohož, ze kterého broadcast vyšel.</p>
            <p>2) Tento postup opakují i ostatní switche, výsledkem bude to, že PC0 a PC1 obdrží opakovaně, switche budou mít bordel v MAC tabulce a broadcasty budou v síti proudit dokud je něco nezastaví.</p>
            <p>Tuto problematiku právě řeší Spanning Tree Protocol.</p>
        </section>
        <section id="UvodSTP" class="subSection">
            <h4>Úvod do STP</h4>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
            <section id="TypyPortu" class="subSection">
                <h4>Typy portu u STP</h4>
                <div id="templateline2"></div>
                <div class="height_spacer"></div>
                <ul>
                    <li class="req">Root Port</li>
                    <li class="req">Designated Port</li>
                    <li class="req">Non-Designated Port</li>
                </ul>
            </section>
        </section>
        

        <p>STP je jedním z protokolů, který aktivně ovlivňují chod sítě.</p>
        <img src="../static/styles/images/STP/STP.png" alt="" class="configImage">
        <p>Na obrázku si můžete všimnout, že všechny porty až na jeden svítí zeleně.</p>
        <p>Proč ale ten port Fa0/1 je oranžový?</p>
        <p>Protože na switchích běží jeden z STP protokolů.</p>
        <p>STP, Spanning Tree Protocol, je protokol, který zlepšuje chod sítě, tím, že blokuje jednotlivé porty.</p>
        <p>Proč je ale potřeba blokovat jednotlivé porty?</p>
        <p>Kdyby na této síti nebylo implementováno STP, vznikla by <b>Broadcast Storm</b>.</p>
        <p><b>Broadcast storm</b> je stav, kdy je za krátkou dobu v síti neuvěřitelně moc broadcast paketů (TTL tomu nezabrání, protože to operuje na L3) --> to poté může zapříčinit přetížení switchů a dalších zařízení v síti.</p>
        <p>Broadcast storm mají tendenci vznikat ve "spolehlivých sítí", kde je každý network device propojený s každým.</p>
        <p>Vezmeme si příklad z obrázku (při předpokladu, že v síti není STP/RSTP, čili všechny porty jsou zelené).</p>
        <p>PC0 chce poslat broadcast, pošle jej tedy SW2.</p>
        <p>SW2 jej tedy pošle na všechny porty kromě toho, ze kterého broadcast přišel (Fa0/3).</p>
        <p>Takto se zachová každý switch. Problémem je, že SW1 teď dostane 2 stejný broadcasty od SW3 a SW0, čili je zase přepošle. Broadcast z SW3 na SW0 a ze SW0 na SW3, oba broadcasty také pošle na PC2. SW2 se tak vratí hned 2 broadcasty. To má za následek kromě možného přetížení také vyvolání nestability MAC tabulky.</p>
        <p><b>Nestabilita MAC tabulky</b> je stav, při kterém se neustále aktualizují záznamy, protože rámce se stejnou počáteční MAC adresou dorazí pod jiným interfacem.</p>
        <p>Dalším problémem, který nastane je to, že hosti dostanou daný rámec vícekrát, s čímž mohou mít poté problém některé aplikace, nebo můžou hosta uplně zahltit.</p>
        <p>Abych to celé shrnul, STP je protokol, který je defaultně nastavený na L2 switchích a jehož jedním z hlavních cílů je zamezit tvoření Broadcast storm, tím, že dočasně zablokuje určité porty (Pakliže jiné médium vypadne, provoz na portu bude obnoven).</p>
    </section>
    <section id="STA">
        <h3 id="problematika">STA - Spanning Tree Algorithm</h3>
        <div id="templateline2"></div>
        <div class="height_spacer"></div>
        <p>Jak celý ten proces vybírání, který port bude zablokovaný probíhá?</p>
        <p>Nejvíce zjednošeně probíhá tak, že switche si mezisebou zvolí <b>Root switch</b>, switch který bude celou STP operaci řídit, dále ostatní switche spočítají Root cost, číslo, které nám udává jak dobře se rámce po tom médiu dostanou k root switchi.</p>
    </section>
    <section id="Další_STP_protokoly">
        <h3 id="problematika">Další STP protokoly</h3>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
        <section id="pvst" class="subSection">
            <h3 id="problematika">PVST</h3>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
        </section>
        <section id="pvst+" class="subSection">
            <h3 id="problematika">PVST+</h3>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
        </section>
        <section id="rstp" class="subSection">
            <h3 id="problematika">RSTP</h3>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
        </section>
        
    </section>
    <section id="Etherchannel">
        <h3 id="problematika">Etherchannel</h3>
        <div id="templateline2"></div>
        <div class="height_spacer"></div>
    </section>
    <section id="prehledPrikazu">
        <h3>Přehled příkazů (PT)</h3>
            <div id="templateline2"></div>
            <div class="height_spacer"></div>
            <div class="overflowTable">
                <table>
                    <tr>
                        <th>Příkazy</th>
                        <th>Popis</th>
                        <th>Mód</th>
                    </tr>
                    <tr>
                        <td>show spanning-tree</th>
                        <td>zobrazí informace o STP</td>
                        <td>EXEC</td>
                    </tr>
                   
                </table>
            </div>
    </section>
    <div class="height_spacer"></div>
    <section id="zaver">
        <h3>Závěr</h3>
        <div id="templateline2"></div>
        <div class="height_spacer"></div>
    </section>
    <div class="height_spacer"></div>
    <h3 style="text-align: center;">Chcete si latku procvičit?</h3>
    <div id="templateline2" style='margin: auto;'></div>
    <div class="height_spacer"></div>
    <div class="btns_quiz">
        <a class="btnquiz" id="play">Hrát</a>
    </div>
    <div class="quiz" id="quiz">
        
        <div class="question" id="question">
            <div class="headerquest">
                <h2 id="questionNo">1.</h2>
                <h2 id="questionText"></h2>
                <div class="timer" id="timer">
                    <h6>čas:&nbsp</h6>
                    
                    <div class="timenum">
                        <div class="line2"></div>
                        <div class="circleback">
                            <h6 id="time">00</h6>
                        </div>
                        <div class="line2"></div>
                    </div>
            </div>
            </div>
        </div>
        <div class="mainer">
            <div class="height_spacer"></div>
            <div class="cont">
                <div class="abc">
                    <p class="letter">A</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">B</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">C</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">D</p>
                </div>
                
                <div class="line"></div>
                <div id="optionList">
                    <h4 class='choice_que' id="opt1"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que' id="opt2"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que' id="opt3"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que' id="opt4"></h4>
                    <div class="height_spacer"></div>
                </div>
            </div>
        </div>

        <div id="answersSection">
            <div class="answers">
                <div class="bgans">
                    <h3 id="total_correct" >0</h3>
                </div>
                <div class="bgbtn" id="next_quest">
                    <h3>Další</h3>
                </div>
            </div>
        </div>

        
    </div>
    <div class="result hidden">
        <img src="../static/styles/images/logos/trophy.svg" alt="" id="trophy" width="25%" height="25%">
        <h2>Výsledky</h2>
        <p id="points"></p>
        <div class="height_spacer"></div>
        <a class="playagainbtn" id="playagain">Hrát znovu</a>
    </div>
    <div class="height_spacer"></div>
<script src="../static/quiz.js"></script>
<script src="../static/quest.js"></script>
</body>
</html>
