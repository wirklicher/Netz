<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/styles/template.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Scriptos - Netzwe</title>
</head>
<body>
    <h1>Discovery Protocols</h1>
    <div id="templateline"></div>
    <h5 for="" id="znalosti" class="noBorder"><b>Předpokládané znalosti</b>:</h5>
    <section id="CCNAREq">
        <h5>CCNA požadavky:</h5>
        <ul>
            <li class="req">Umět nakonfigurovat a troubleshootovat L2 Discovery protokoly</li>
        </ul>
    </section>
    <section id="uvod">
        <h3 id="problematika">Úvod do problematiky</h3>
        <p>Představte si, že nastupujete na novou pracovní pozici jako síťař. Během prvního dne zjistíte, že váš předchůdce vůbec nezdokumentoval síť a vy absolutně netušíte, jak si představit topologii sítě.</p>
        <p><i>Existuje nějaká skupina protokolů, která by mu alespoň mohla pomoci zmapovat topologii sítě?</i></p>
        <p>Ano, existuje. Protokoly, které nám dokážou přinést určité informace o síti nazýváme celkově jako <b>Discovery protokoly</b>.</p>
        <p>Tyto protokoly jsou skvělý v tom, že <b>fungují na L2</b> (Data-link layer), tudíž ke svému fungování <b>nepotřebují IP adresu</b>.</p>
        <p>V rámci CCNA úrovně se budeme bavit primárně o dvou discovery protokolech, se kterýma se můžete během studia i práce setkat.</p>
        <p>Těmito protokoly jsou <b>CDP (Cisco Discovery Protocol)</b> a <b>LLDP (Link Layer Discovery Protocol)</b>.</p>
        <p>Oba tyto protokoly jsou založené na stejných principech a liší se spíše v drobnostech, které si představíme později.</p>
        <section id="HowDPWorks" class="subSection">
            <h4>Pricnip discovery protokolů</h4>
            <p>Jestliže spustíte nově koupený switch od Cisca, tak budete mít standardně zapnutý CDP protokol. Pakliže budete mít těchto switchů více a vzájemně je propojíte, začnou se <b>vždy mezi sousedními zařízeními</b> (pozn. CDP rámec se nepošle dál než na sousední zařízení) posílat periodicky CDP rámce, která nesou určité informace o daném zařízení a konfigurace na něm nastavené.</p>
            <p>Mezi získané informace může patřit:</p>
            <ul>
                <li class="req">Název zařízení</li>
                <li class="req">Bližší informace o zařízení (např. verzi SW)</li>
                <li class="req">Informace o HW - Dokáže se zařízení chovat jako Router, Bridge, Switch?</li>
                <li class="req">IP adresy</li>
                <li class="req">Názvy portů mezi nimiž probíhá CDP komunikace</li>
                <li class="req">Informace o VLANách (VTP, Native VLAN ID)</li>
            </ul>
            <p>Discovery protokoly <b>nejsou chráněny</b> žádným obraným mechanismem, proto je třeba si dát velký pozor na to, kde jsou nakonfigurovaný. Potenciální útočník by totiž mohl tyto informace získané prostřednictvím discovery protokolů využít v náš neprospěch.</p>
            <p>Obecně je doporučeno vypínat discovery protokoly na interfacích, které se připojují k hostům či do externí sítě.</p>
        </section>
    </section>
    <section id="CDP">
        <h3>CDP</h3>
        <p>CDP nebo-li Cisco Discovery Protocol, je cisco proprietární protokol vytvořený v devadésátých letech minulého století.</p>
        <p>Jak už je psáno výše, CDP patří do kategorie discovery protokolů, jejichž účelem je sdílet informace mezi sousedními zařízeními.</p>
        <p>Za celou dobu má CDP pouze 2 verze - </p>
        <ul>
            <li class="req">CDPv1 - již zastaralá verze, dnes používá pouze v rámci zpětné kompatibility</li>
            <li class="req">CDPv2 - nejnovější verze, která nám oproti CDPv1 umožňuje získávat vícero informací jako třeba Native VLAN ID, port duplex</li>
        </ul>
        <p>CDP zprávy používají zdrojovou MAC adresu: <b>01:00:0C:CC:CC:CC</b></p>
        <section id="CDPWireshark" class="subSection">
            <h4>CDP rámec ve Wiresharku</h4>
        </section>
        <section id="CDPConfiguration" class="subSection">
            <h4>Konfigurace CDP</h4>
        </section>
        <section id="CDPSpoofing" class="subSection">
            <h4>CDP Spoofing</h4>
            <p>CDP spoofing DoS útok, pomocí kterého můžeme přetížit zařízení na kterém je zapnuté CDP.</p>
            <p>Princip CDP spoofing útoku je následujicí:</p>
            <p>Útočník začne na zařízení se zapnutým CDP posílat zprávy s několika vymyšlenýma MAC adresama na MAC adresu příjemce 01:00:0C:CC:CC:CC. Oběť si díky těmto CDP rámců začne budovat CDP tabulku a pod náporem nových CDP zpráv dojde k přetížení oběti systému.</p>
            <p>Ochranou proti tomuto útoku je mít CDP vypnuté na portech, která jsou připojená k externím zařízením.</p>
        </section>
    </section>
    <section id="LLDP">
        <h3>LLDP</h3>
        <section id="LLDPConfiguration"></section>
    </section>
    <section id="prehledPrikazu">
        <h3>Přehled příkazů (PT)</h3>
            <div class="overflowTable">
                <table>
                    <tr>
                        <th>Příkazy</th>
                        <th>Popis</th>
                        <th>Mód</th>
                    </tr>
                    <tr>
                        <td>vlan {vlan-id}</td>
                        <td>Vytvoří VLAN a přepne do VLAN interfacu</td>
                        <td>Global Config</td>
                    </tr>
                    <tr>
                        <td>name {vlan-name}</td>
                        <td>Pojmenuje VLAN</td>
                        <td>VLAN interface</td>
                    </tr>
                    <tr>
                        <td>switchport mode {access | trunk | dynamic desirable | dynamic auto}</td>
                        <td>Přepne interface do modu</td>
                        <td>Interface</td>
                    </tr>
                    <tr>
                        <td>switchport nonegotiate</td>
                        <td>Vypne DTP na interfacu</td>
                        <td>Interface</td>
                    </tr>
                    <tr>
                        <td>switchport access vlan {vlan-id}</td>
                        <td>Přiřadí VLANu k danému interfacu</td>
                        <td>Interface</td>
                    </tr>
                    <tr>
                        <td>switchport trunk encapsulation {protocol}</td>
                        <td>Nastaví trunking protokol na switchi</td>
                        <td>Global Config</td>
                    </tr>
                    <tr>
                        <td>switchport trunk native vlan {vlan-id}</td>
                        <td>Nastaví Native VLAN</td>
                        <td>Interface</td>
                    </tr>
                    <tr>
                        <td>switchport trunk allowed vlan {add | all | except | remove} {vlan-id}</td>
                        <td>Nastaví povolené VLANy na trunku</td>
                        <td>Interface</th>
                    </tr>
                    <tr>
                        <td>encapsulation dot1q {VLAN_ID}</td>
                        <td>Nastaví sub interface pro danou VLAN</td>
                        <td>router - sub interface</td>
                    </tr>
                    <tr>
                        <td>vtp mode {transparent | off}</td>
                        <td>Vypne VTP</td>
                        <td>Global Config</td>
                    </tr>
                    <tr>
                        <td>show interfaces switchport</td>
                        <td>Zobrazí informace o interfaci</td>
                        <td>Priviledged EXEC</td>
                    </tr>
                    <tr>
                        <td>show interfaces {interface-id} trunk</td>
                        <td>Zobrazí informace o truncích</td>
                        <td>Priviledged EXEC</td>
                    </tr>
                    <tr>
                        <td>show vlan brief</td>
                        <td>Zobrazí informace o VLAN</td>
                        <td>Priviledged EXEC</td>
                    </tr>
                    <tr>
                        <td>show vtp status</td>
                        <td>Zobrazí informace o VTP</td>
                        <td>Priviledged EXEC</td>
                    </tr>
                </table>
            </div>
    </section>
    <div class="height_spacer"></div>
    <section id="zaver">
        <h3>Závěr</h3>
    </section>
    <div class="height_spacer"></div>
    <h3 style="text-align: center;" class="noBorder">Chcete si latku procvičit?</h3>
    <div id="templateline2" style='margin: auto;'></div>
    <div class="height_spacer"></div>
    <div class="btns_quiz">
        <a class="btnquiz" id="play">Hrát</a>
    </div>
    <div class="quiz" id="quiz">
        
        <div class="question" id="question">
            <div class="headerquest">
                <h2 id="questionNo">1.</h2>
                <h2 id="questionText"></h2>
                <div class="timer" id="timer">
                    <h6>čas:&nbsp</h6>
                    
                    <div class="timenum">
                        <div class="line2"></div>
                        <div class="circleback">
                            <h6 id="time">00</h6>
                        </div>
                        <div class="line2"></div>
                    </div>
            </div>
            </div>
        </div>
        <div class="mainer">
            <div class="height_spacer"></div>
            <div class="cont">
                <div class="abc">
                    <p class="letter">A</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">B</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">C</p>
                    <div class="height_spacer2"></div>
                    <p class="letter">D</p>
                </div>
                
                <div class="line"></div>
                <div id="optionList">
                    <h4 class='choice_que noBorder' id="opt1"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que noBorder' id="opt2"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que noBorder' id="opt3"></h4>
                    <div class="height_spacer"></div>
                    <h4 class='choice_que noBorder' id="opt4"></h4>
                    <div class="height_spacer"></div>
                </div>
            </div>
        </div>

        <div id="answersSection">
            <div class="answers">
                <div class="bgans">
                    <h3 id="total_correct" class="noBorder">0</h3>
                </div>
                <div class="bgbtn" id="next_quest">
                    <h3 class="noBorder">Další</h3>
                </div>
            </div>
        </div>

        
    </div>
    <div class="result hidden">
        <img src="../static/styles/images/logos/trophy.svg" alt="" id="trophy" width="25%" height="25%">
        <h2>Výsledky</h2>
        <p id="points"></p>
        <div class="height_spacer"></div>
        <a class="playagainbtn" id="playagain">Hrát znovu</a>
    </div>
    <div class="height_spacer"></div>
<script src="../static/quiz.js"></script>
<script src="../static/quest.js"></script>
</body>
</html>
